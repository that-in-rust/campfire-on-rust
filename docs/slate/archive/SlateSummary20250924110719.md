Navigation: [Index](./Slate-Index-20250924002704.md) | [Summary 20250924110719](./SlateSummary20250924110719.md) | [Routes 20250924110719](./SlateRoutes20250924110719.md) | [UAT Additions 20250924110719](./SlateUATAdditions20250924110719.md) | [PR Impact Gate 20250924110719](./SlatePrImpactGate20250924110719.md)

Title: Slate Summary — 2025-09-24 11:07:19 (SlateSummary20250924110719)

What this repo is
- Campfire-on-Rust: single-binary Axum app with SQLite and server-rendered HTML.
- Feature flags: websockets, search (SQLite FTS5), sounds, push notifications (VAPID), bot API, demo mode.

Key surfaces (routes and flows)
- Pages/assets: /, /chat, /login, /demo, /manifest.json, /static/*
- API: /api/auth/login|logout, /api/users/me
- Rooms: GET/POST /api/rooms; GET /api/rooms/:id; POST /api/rooms/:id/members
- Messages: GET/POST /api/rooms/:id/messages (POST returns 201 Created; client_message_id ensures dedup)
- WebSocket: /ws (auth via query/header/cookie) → CreateMessage, Join/Leave, Start/StopTyping, UpdateLastSeen
- Feature APIs: /api/search, /api/sounds..., /api/push..., /api/bots...
- Health/metrics: /health, /health/ready, /health/live; metrics endpoint (configurable) + /metrics/summary (if enabled)

Hot paths to guard (tests/UAT)
- Message creation: dedup on client_message_id; membership/auth; content bounds; 201 Created; WS broadcast
- Session lifecycle: login sets cookie; validate_session across APIs/WS; logout clears
- Room access/membership: create 201; add_member 201; GET room auth (403/404)
- WebSocket presence/typing/reconnect: Join/Leave presence broadcasts; Start/StopTyping; UpdateLastSeen

Notes
- Prefer 201 Created on create endpoints
- WS auth flexible across query/header/cookie
- Demo mode feature-flagged; can be disabled without code churn
